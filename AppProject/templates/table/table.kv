#############
#Table
<LabelTable@MDLabel>:
    halign: "center"
    markup: True

<SelectableLabel>:
    gridSelectableLabel: GridSelectableLabel

    #on_pre_enter: for p in root.list_table_data: l=MDLabel(text=p); GridSelectableLabel.add_widget(l);


    # Draw a background to indicate selection
    #canvas.before:
    #    Color:
    #        rgba: (.0, 0.9, .7, 1) if self.selected else (0, 0, 0, 0)
    #    Rectangle:
    #        pos: self.pos
    #        size: self.size
    #    Line:
    #        points: (*self.pos, self.right, self.y)

    MDGridLayout:
        cols: 1
        
        pos: self.pos
        size: self.size

        id: GridSelectableLabel

        #Image:
        #    id: id_imagen
        #    source: ""
            #fit_mode: True
            #keep_ratio: False
        #    fit_mode: "scale-down"
        #    size_hint: 1, 1

        #    canvas.before:
        #        Color:
        #            rgba: (1, 1, 1, 1)
        #        Rectangle:
        #            pos: self.pos
        #            size: self.size

        #LabelTable:
        #    id: id_cedula
        #    text: "1111"

        #LabelTable:
        #    id: id_proveedor
        #    text: ""

        #LabelTable:
        #    id: id_cantidad
        #    text: ""

        #LabelTable:
        #    id: id_precio
        #    text: ""

<RecycleViewTable>:

    orientation: 'vertical'
    rv: rv # expose the widget
    scroll_box_layout: scroll_box_layout 
    id: tableRecycleViewTable
    
    #crear en el recycleview table una funcion que permita crear de 
    #forma dinamica los labels, esto se puede lograr haciendo un objecto y que cuando este iniciando se creen los labels
    MDGridLayout:
        adaptive_height: True
        cols: 1

        MDGridLayout:
            id: scroll_box_layout
            cols:1
            #padding: dp(36), dp(8)
            #adaptive_height: True
            height: self.minimum_height
            size_hint_y: None
            height: dp(55)

            canvas.before:
                Color:
                    rgba: (0, 0, 255, .6)
                Rectangle:
                    pos: self.pos
                    size: self.size

            LabelTable:
                text: "Imagen"
                font_style: "H6"

            

    RecycleView:
        id: rv
        viewclass: 'SelectableLabel'

        SelectableRecycleBoxLayout:
            id: controller
            default_size: None, dp(56)
            default_size_hint: 1, None
            size_hint_y: None
            height: self.minimum_height
            orientation: 'vertical'
            key_selection: 'True'
            
            multiselect: False # ** DIFFERENCE **
            touch_multiselect: False # ** DIFFERENCE **

    MDGridLayout:
        cols:4
        padding: dp(36), dp(0)
        adaptive_height: True
        
        height: self.minimum_height
        size_hint_y: None
        height: dp(55)

        canvas.before:
            Color:
                rgba: (0, 0, 255, .6)
            Rectangle:
                pos: self.pos
                size: self.size

        MDBoxLayout:
            size_hint_x: .35

            MDLabel:
                id: ItemsShowed
                text: "Mostrando: 1-5 de 10"
                halign: "left"
                #font_style: "Subtitle2" if self.width/11 > 10 else "H5"
                font_size: self.width/11 if self.width/11 > 10 else self.width/7
                #text_size: self.size
                #on_size: root.adjust_font_size()
                #on_text: root.adjust_font_size()                

        AnchorLayout:
            size_hint_x: .55
            size_hint_y: None
            height: scroll_box_layout.height
            anchor_x:'center'
            anchor_y:'center'
            #text_size: self.size

            MDRectangleFlatIconButton:
                id: ItemsAmount
                icon: "android"
                text: "Items por p√°gina: 5"
                font_style: "Subtitle1"
                md_bg_color: "white"
                text_color: "black"
                line_color: "orange"
                icon_color: "orange"

                on_release:
                    app.modals.ChangeItemsAmount(rv)

        AnchorLayout:
            size_hint_y: None
            height: scroll_box_layout.height
            size_hint_x: .3
            anchor_x:'right'
            anchor_y:'center'

            MDBoxLayout:
                orientation: "horizontal"
                size_hint: None, None
                size: self.minimum_size
                spacing: dp(10)

                MDFloatingActionButton:
                    id: ButtonLeftPagination

                    icon: "arrow-left-bold-outline"
                    type: "small"
                    theme_icon_color: "Custom"
                    md_bg_color: "#fefbff"
                    text_color: "#6851a5"
                    elevation: 0
                    disabled: True

                    on_release:
                        app.modals.ChangeItemsAmountButtons(rv, "left")

                MDFloatingActionButton:
                    id: ButtonRightPagination
                    icon: "arrow-right-bold-outline"
                    type: "small"
                    theme_icon_color: "Custom"
                    md_bg_color: "#fefbff"
                    text_color: "#6851a5"
                    elevation: 0
                    disabled: False

                    on_release:
                        app.modals.ChangeItemsAmountButtons(rv, "right")
#############
