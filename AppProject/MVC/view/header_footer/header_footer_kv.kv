
<HeaderAndFooter>:
    id: headerandfooter

    MDTopAppBar:
        id: toolbar
        pos_hint: {"top": 1}
        elevation: 4
        title: "Iniciar Sesión"
        use_overflow: True
        left_action_items: [["menu", lambda x: root.ids.nav_drawer.set_state("open")]]
        right_action_items:
            [
            #Abre el seelect/modal de los tipos de tasa de cambio
            ["cash-100", lambda x: root.CallbackMenuChangeMoney(x), "Tipo de tasa - Dolar", "Tipo de tasa - Dolar"],
            ["weather-sunny", lambda x: root.CallbackModeScreen(x, 'oscuro'), "Modo Claro", "Modo Claro"],
            ["account-settings", lambda x: root.CallbackMenuUser(x), "Perfil" , "Perfil"],
            ]
            
    MDTopAppBar:
        id: toolbarbottom
        type_height: "small"
        headline_text: "Headline"
        title: "FerreZambrano"
        elevation: 4
        anchor_title: "left"
        use_overflow: True
        
        right_action_items:
            [             
            ["account-cog", lambda x: app.functions_callback.ChangePage('ConfigurationPage', 'Configuracion'), "", "Configuracion"],             
            ["cash", lambda x: app.functions_callback.ChangePage('ForeignExchangePage', 'Divisas'), "", "Divisas"],             
            ["home", lambda x: app.functions_callback.ChangePage("InitialPage", "Inicio"), "", "Inicio"],    
            ["cash-register", lambda x: app.functions_callback.ChangePage('CashierPage', 'Cajero'), "", "Cajero"],             
            ["store", lambda x: app.functions_callback.ChangePage('StorePage', 'Almacén'), "", "Almacén"],             
            ]

############################# ITEMS DEL MENU LATERAL
#TOOLBAR
<DrawerClickableItem@MDNavigationDrawerItem>
    focus_color: "#e7e4c0"
    text_color: "#4a4939"
    icon_color: "#4a4939"
    ripple_color: "#c5bdd2"
    selected_color: "#0c6c4d"


#TOOLBAR
<DrawerLabelItem@MDNavigationDrawerItem>
    text_color: "#4a4939"
    icon_color: "#4a4939"
    focus_behavior: False
    selected_color: "#4a4939"
    _no_ripple_effect: True

#MENU SLICE
<ContentNavigationDrawer>

    MDNavigationDrawerMenu:

        MDNavigationDrawerHeader:
            title: "FerreZambrano"
            title_color: "#4a4939"
            text: "Bienvenido XXXXX"
            source: "images/logo.jpg"
            spacing: "4dp"
            padding: "12dp", 0, 0, "40dp"

        MDNavigationDrawerLabel:
            text: "General"

        MDNavigationDrawerDivider:
            padding: dp(10),0, dp(12), dp(1)

        DrawerClickableItem:
            icon: "home"
            text_right_color: "#4a4939"
            text: "Inicio"

            on_press:
                root.screen_manager.current = "InitialPage"

                app.root.ids.toolbar.title = self.text

        DrawerClickableItem:
            icon: "cash-register"
            text_right_color: "#4a4939"
            text: "Cajero"

            on_press:
                root.screen_manager.current = "CashierPage"

                #app.functions_callback.ChangePage("CashierPage", self.text)
                app.root.ids.toolbar.title = self.text

        DrawerClickableItem:
            icon: "store"
            text_right_color: "#4a4939"
            text: "Almacen"
            on_press:
                root.screen_manager.current = "StorePage"

                app.root.ids.toolbar.title = self.text
        
        
        DrawerClickableItem:
            icon: "account-cash"
            text_right_color: "#4a4939"
            text: "Cliente"
            on_press:
                root.screen_manager.current = "ClientsPage"

                app.root.ids.toolbar.title = self.text               

        MDNavigationDrawerLabel:
            text: "Administrador"
            padding: dp(16), dp(10), dp(12), dp(10)


        MDNavigationDrawerDivider:
            padding: dp(10), 0, dp(12), dp(1)

        DrawerClickableItem:
            icon: "cube-send"
            text_right_color: "#4a4939"
            text: "Compras"

            on_press:
                root.screen_manager.current = "ChargePage"

                app.root.ids.toolbar.title = self.text

        DrawerClickableItem:
            icon: "cash-multiple"
            text_right_color: "#4a4939"
            text: "Divisas"

            on_press:
                root.screen_manager.current = "ForeignExchangePage"

                app.root.ids.toolbar.title = self.text

        DrawerClickableItem:
            icon: "account-multiple"
            text_right_color: "#4a4939"
            text: "Proveedores"

            on_press:
                root.screen_manager.current = "SupplierPage"

                app.root.ids.toolbar.title = self.text
        
        DrawerClickableItem:
            icon: "cash-remove"
            text_right_color: "#4a4939"
            text: "Prestamos"

            on_press:
                root.screen_manager.current = "LoanPage"

                app.root.ids.toolbar.title = self.text

        DrawerClickableItem:
            icon: "receipt-text-clock"
            text_right_color: "#4a4939"
            text: "Historial de Ventas"

            on_press:
                root.screen_manager.current = "SalesHistoryPage"

                app.root.ids.toolbar.title = self.text
        
        DrawerClickableItem:
            icon: "text-box-search"
            text_right_color: "#4a4939"
            text: "Historial de Dinero"

            on_press:
                root.screen_manager.current = "MoneyHistoryPage"

                app.root.ids.toolbar.title = self.text


                
        MDNavigationDrawerLabel:
            text: "Configuraciones"
            padding: dp(16), dp(10), dp(12), dp(10)

        MDNavigationDrawerDivider:
            padding: dp(10), 0, dp(12), dp(1)

        DrawerClickableItem:
            icon: "account-cog"
            text_right_color: "#4a4939"
            text: "Configuracion"

            on_press:
                root.screen_manager.current = "ConfigurationPage"

                app.root.ids.toolbar.title = self.text



