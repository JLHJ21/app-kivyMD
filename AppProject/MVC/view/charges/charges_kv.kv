
# PAGINA DE ENCARGO
<ChargePage>:
    name: "ChargePage"

    MDBoxLayout:
        id: boxLayoutAllScreen
        orientation: 'vertical'
        padding: dp(16), dp(root.manager.parent.parent.ids.toolbar.height), dp(16), dp(root.manager.parent.parent.ids.toolbarbottom.height)

        MDScrollView:
            MDGridLayout:
                cols: 1
                            
                size_hint_y: None
                height: self.minimum_height

                MDGridLayout:
                    cols: 5
                    spacing: dp(10)
                    padding: dp(16), dp(16), dp(16), dp(16)

                    size_hint_y: None
                    height: dp(root.manager.parent.parent.ids.toolbar.height)

                    MDTextField:
                        id: ButtonMenuSearchingCharge

                        size_hint_x: None
                        width: "100dp"

                        text: "TODO"
                        hint_text: "Tipo:"
                        icon_right: "arrow-down"

                        mode: "rectangle"
                        readonly: True 
                        focus: True

                        on_focus: if self.focus: root.CallbackMenuCharge(self)

                    MDTextField:
                        id: SearchProduct
                        hint_text: 'Buscar encargo'
                        icon_right: "android"
                        mode: "rectangle"

                        size_hint_x: None
                        width: "400dp"

                    MDFloatingActionButton:
                        id: ButtonSearchingCharge

                        icon: "book-search"
                        type: "standard"

                        #on_release: root.test()

                    MDLabel:

                    MDFloatingActionButton:
                        icon: "account-multiple-plus"
                        type: "standard"

                        on_release: root.ChangePageChargeAddPage()

                
                RecycleViewTable:

                    size_hint_y: None
                    height: dp(400)

                    id: tableCharge
                    id_table: "tableCharge"

                    padding: dp(16), dp(root.manager.parent.parent.ids.toolbar.height / 2), dp(16), dp(root.manager.parent.parent.ids.toolbarbottom.height /2)

                    objecto: self
                    need_image: False
                    columns: 4
                    root: root

                    titles_labels: ["Proveedor", "Compra", 'Fecha', "Cant. Productos"]
                    list_table_data: ["name_supplier", "buy_products", "date", "products"]

                    modalData: 
                        'ModalsDialog.ShowAlertDialog("self","¿Que desea realizar?", "Por favor, elija algunas de las opciones presentadas.", "Cancelar", "Eliminar", "Modificar",  lambda x: ModalsDialog.CloseDialog("self", RecycleViewTable.dialog.dismiss()),lambda x: ModalsDialog.ShowAlertDialogDelete ("self","¿De verdad quiere eliminar este producto?", "Si es así, adelante","Cancelar","Eliminar",lambda x: ModalsDialog.CloseDialog("self", RecycleViewTable.dialog2.dismiss()),lambda x: print("cerrar")    ),lambda x: ModalsDialog.ChangePage("self", "StorePageUpdate", "Almacen - Modificar"))'
                    
                    test: 'self.objecto.DictionaryDataset.update(self.objecto.root.ShowDataChargesController(self.objecto.StartPagination, self.objecto.StaticItemsAccountPagination, self.objecto.DirectionPagination))'