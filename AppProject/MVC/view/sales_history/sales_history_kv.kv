
<SalesHistoryPage>:
    name: "SalesHistoryPage"

    MDBoxLayout:
        id: boxLayoutAllScreen
        orientation: 'vertical'
        padding: dp(16), dp(root.manager.parent.parent.ids.toolbar.height), dp(16), dp(root.manager.parent.parent.ids.toolbarbottom.height)

        MDScrollView:
            MDGridLayout:
                cols: 1
                            
                size_hint_y: None
                height: self.minimum_height       
                MDGridLayout:
                    id: gridLayoutContent
                    cols: 3
                    spacing: dp(20)
                    padding: dp(16), dp(16), dp(16), dp(16)

                    size_hint_y: None
                    height: dp(root.manager.parent.parent.ids.toolbar.height)
                    
                    MDTextField:
                        id: ButtonMenuSearchingSalesHistory

                        size_hint_x: None
                        width: "100dp"

                        text: "TODO"
                        hint_text: "Tipo:"
                        icon_right: "arrow-down"

                        mode: "rectangle"
                        readonly: True 
                        focus: True

                        on_focus: if self.focus: root.CallbackMenuSalesHistory(self)

                    MDTextField:
                        id: SearchProduct
                        hint_text: 'Buscar historial de venta'
                        icon_right: "android"
                        mode: "rectangle"

                    MDFloatingActionButton:
                        id: ButtonSearchingSalesHistory

                        width: "150dp"
                        icon: "book-search"
                        style: "standard"
                        width: "100dp"
                        

                RecycleViewTable:

                    size_hint_y: None
                    height: dp(400)

                    id: tableSalesHistory
                    id_table: "tableSalesHistory"

                    padding: dp(16), dp(root.manager.parent.parent.ids.toolbar.height / 2), dp(16), dp(root.manager.parent.parent.ids.toolbarbottom.height /2)

                    objecto: self
                    need_image: False
                    columns: 5
                    root: root

                    differentColumn: 'PDF'
                    callbackPDF: 'from MVC.controller.sales_history.sales_history_controller import SalesHistoryPage; SalesHistoryPage.CreatePDF(global_id_modal); ModalsDialog.CloseDialog(RecycleViewTable.dialog.dismiss());'
                    #customModal: 'ModalsDialog.CloseDialog(RecycleViewTable.dialog.dismiss()); from MVC.controller.cashier.cashier_controller import CashierPage; CashierPage.ModalAddProductToShoppingCart();'


                    titles_labels: ["Cliente", "Empleado", "Monto (Peso)", "Cantidad", "Fecha"]
                    list_table_data: ["name_client", "name_staff", "total_purchase_sales", "amount_products", "date_sales"]

                    #Datos del Modal de eliminar "Â¿Esta seguro?"
                    modalChooseDeleteConfirmationTitle: 'modalChooseDeleteConfirmationTitle'
                    modalChooseDeletConfirmationeText: 'modalChooseDeletConfirmationeText'
                    modalChooseDeleteConfirmation: 'print("modalChooseDeleteConfirmation")'

                    modalChooseUpdate: 'print(self)'

                    test: 'self.objecto.DictionaryDataset.update(self.objecto.root.ShowDataSalesHistoryController(self.objecto.StartPagination, self.objecto.StaticItemsAccountPagination, self.objecto.DirectionPagination))'
                    